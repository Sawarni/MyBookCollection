@page "/addeditcharacter/{id}"
@page "/addeditcharacter"
@inherits AddEditCharacterBase

<h3>Add Edit Character</h3>
@if (Character == null)
{
    <LoadingIndicator></LoadingIndicator>
}
else
{
    <EditForm Model="@Character" OnValidSubmit="HandleCharacterSave">

        <div class="container">
            <div class="row">
                <div class="col-sm-2">
                    <label for="name"> Name </label>
                </div>
                <div class="col-sm-4">
                    <InputText id="name" class="form-control" @bind-Value="Character.CharacterName"></InputText>
                </div>
                <div class="col-sm-4">
                    @*<input type="file" class="form-control-file"  @onchange="UploadFileControl" />*@
                    <BlazorInputFile.InputFile class="form-control-file" OnChange="UploadFileControl"></BlazorInputFile.InputFile>
                </div>
                <div class="col-sm-2">

                    <button type="submit" class="btn-info form-control">Save</button>
                </div>
            </div>
            <div class="row">
                <div class="card-deck">

                    <div class="card m-3" style="min-width:18rem; max-width:30.5%;">
                        <div class="card-header">
                            <h3>@Character.CharacterName</h3>
                        </div>


                        @if (Character.ImageFile == null || Character.ImageFile.ImageBase64 == null)
                        {
                            <img src="Images/AnonymousUser.png" class="card-img-top characterImage" />
                        }
                        else
                        {
                            <img class="card-img-top characterImage" src="@Character.ImageFile.ImageType,@Character.ImageFile.ImageBase64" />
                        }


                    </div>

                </div>
            </div>
        </div>
    </EditForm>
}

